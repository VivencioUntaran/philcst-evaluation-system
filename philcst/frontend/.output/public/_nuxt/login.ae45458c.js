import{_ as b,G as w,v as x,r as S,q as k,H as I,w as u,o as p,a as t,y as A,z as m,A as y,x as s,c as C,t as V,E as B,d as c,b as D,e as E,p as M,f as N}from"./entry.b4168997.js";import{_ as T}from"./Card.785b68be.js";import{u as q}from"./useAPI.05844c13.js";const P=""+new URL("logo.ec691537.png",import.meta.url).href;const d=i=>(M("data-v-b654d62e"),i=i(),N(),i),U={class:"mycard__body"},$=d(()=>t("div",{class:"mycard__box column-1"},[t("img",{src:P,class:"mycard__img",alt:""})],-1)),L=["onSubmit"],R=d(()=>t("p",{class:"mycard__text-detail"},"Please enter your log-in details below.",-1)),j=d(()=>t("label",{for:""},"Email:",-1)),z=d(()=>t("label",{for:""},"Password:",-1)),F={key:0,class:"login__error-message"},G=d(()=>t("button",{class:"mycard__button"},"Submit",-1)),H={class:"mycard__text-center"},O={__name:"login",setup(i){const h=q(),{saveAuthDetails:f,handleRedirection:J,checkIfAuthenticated:v}=w(),a=x({email:"",password:""}),n=S("");async function g(){var _,e;try{const o=await h({url:"user_auth/login",method:"POST",headers:{"Content-Type":"application/json"},data:a}),l=o.data.user.role.role;f(o),window.open(`/${l}`,"_SELF")}catch(o){n.value=(e=(_=o.response)==null?void 0:_.data)==null?void 0:e.message}}return k(()=>{v()}),(_,e)=>{const o=E,l=T;return p(),I(l,null,{default:u(()=>[t("div",U,[$,t("form",{class:"mycard__box column-2",onSubmit:A(g,["prevent"])},[R,j,m(t("input",{type:"email",name:"",id:"",required:"",email:"","onUpdate:modelValue":e[0]||(e[0]=r=>s(a).email=r),onInput:e[1]||(e[1]=r=>n.value="")},null,544),[[y,s(a).email]]),z,m(t("input",{type:"password",name:"",id:"",required:"","onUpdate:modelValue":e[2]||(e[2]=r=>s(a).password=r),onInput:e[3]||(e[3]=r=>n.value="")},null,544),[[y,s(a).password]]),s(n)?(p(),C("p",F,V(s(n)),1)):B("",!0),G,t("p",H,[c(" Are you a student and donâ€™t you have an account? Click "),D(o,{to:"/register"},{default:u(()=>[c("here")]),_:1}),c(" to register.")])],40,L)])]),_:1})}}},X=b(O,[["__scopeId","data-v-b654d62e"]]);export{X as default};
