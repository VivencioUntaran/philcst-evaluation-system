import{_ as g,G as B,v as I,L as C,q as D,o as a,c as n,a as t,t as r,b as F,w as Q,y as T,z as j,A,x as c,F as y,D as N,H as L,e as M,p as O,f as U}from"./entry.b4168997.js";import{_ as V}from"./LoaderComponent.f87782ea.js";import{u as q}from"./useAPI.05844c13.js";const i=o=>(O("data-v-d45d4b83"),o=o(),U(),o),z={class:"fi-table bgCard"},P={class:"fi-table__head"},E={class:"add-dean-btn"},G={class:"stack-container mt-2 mb-3"},H=["onSubmit"],$=i(()=>t("label",{class:"search-label"},"Search",-1)),J={class:"d-flex align-items-center justify-content-between"},K=["placeholder"],R=i(()=>t("button",{class:"cstm-button mx-2 btn-yellow",type:"submit"}," Search ",-1)),W={key:0},X={class:"table-container"},Y={key:0,class:"table table-bordered table-striped position-relative"},Z=i(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"Name "),t("th",{scope:"col"},"Department")])],-1)),tt={scope:"row"},et={key:1},at=i(()=>t("p",null," No record found. ",-1)),ot=[at],st={__name:"FacultyInstructorTable",props:{title:{type:String,default:""},backButton:{type:Object,default:()=>{}},addButton:{type:Object,default:()=>{}}},setup(o){const u=o,b=q(),{getCurrentUser:_}=B(),e=I({loaded:!1,records:[],searchQuery:""}),f=C(()=>_().role.role==="admin");D(async()=>{await v(),e.loaded=!0});async function v(){await p()}async function p(){const s=await w(),d=await b({url:"/admin/faculty_instructors/fetch_faculties",method:"POST",headers:{"Content-Type":"application/json"},data:s});e.records=d.data.records}async function w(){const s=_();return{role:s.role.role==="admin"?"dean":"faculty",department_id:s.department_id,search_query:e.searchQuery}}async function x(){e.loaded=!1,await p(),e.loaded=!0}return(s,d)=>{const S=M,k=V;return a(),n(y,null,[t("h1",null,r(o.title),1),t("div",z,[t("div",P,[F(S,{to:u.addButton.url},{default:Q(()=>[t("button",E,r(u.addButton.label),1)]),_:1},8,["to"]),t("div",G,[t("form",{class:"w-100 px-2",onSubmit:T(x,["prevent"])},[$,t("div",J,[j(t("input",{type:"text",name:"seachQuery","onUpdate:modelValue":d[0]||(d[0]=l=>c(e).searchQuery=l),placeholder:c(f)?"Search dean":"Search faculty",class:"mx-0 w-100"},null,8,K),[[A,c(e).searchQuery]]),R])],40,H)])]),c(e).loaded?(a(),n("div",W,[t("div",X,[c(e).records.length?(a(),n("table",Y,[Z,t("tbody",null,[(a(!0),n(y,null,N(c(e).records,(l,h)=>{var m;return a(),n("tr",{key:h},[t("th",tt,r(h+1),1),t("td",null,r(l.name),1),t("td",null,r((m=l.department)==null?void 0:m.department),1)])}),128))])])):(a(),n("div",et,ot))])])):(a(),L(k,{key:1}))])],64)}}},rt=g(st,[["__scopeId","data-v-d45d4b83"]]);export{rt as _};
