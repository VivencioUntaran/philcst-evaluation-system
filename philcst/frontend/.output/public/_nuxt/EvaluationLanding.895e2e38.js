import{_ as f,o as t,c as a,a as s,t as c,E as r,H as k,w as C,d as _,B as x,e as $,D as Y,F as S,G as w,L as B,v as E,q as I,x as u,b as g}from"./entry.b4168997.js";import{u as L}from"./useAPI.05844c13.js";const N={class:"firstBox"},U=["src"],j={class:"secondBox"},A={key:0},V={key:1},O={key:3},T={key:0},z={__name:"DashboardCard",props:{item:{type:Object,default:()=>{}}},setup(e){return(i,m)=>{const d=$;return t(),a("div",{class:x(["box",e.item.cardColor])},[s("div",N,[s("img",{src:e.item.image.src,class:"dashboard-card__image"},null,8,U)]),s("div",j,[s("h3",null,c(e.item.text),1),e.item.acadYear?(t(),a("h4",A,c(e.item.acadYear)+" "+c(e.item.semester),1)):r("",!0),e.item.evalStatus?(t(),a("h5",V,c(e.item.evalStatus),1)):r("",!0),e.item.btn&&e.item.btn.show?(t(),k(d,{key:2,to:e.item.btn.link,class:x(["evaluateButton",e.item.btn.evalStatus==="closed"&&"evaluateButton--disabled"])},{default:C(()=>[_(c(e.item.btn.label),1)]),_:1},8,["to","class"])):r("",!0),e.item.btn?(t(),a("div",O,[e.item.btn.evalStatus==="closed"?(t(),a("span",T," You can start evaluating once the status becomes open. ")):r("",!0)])):r("",!0)])],2)}}},F=f(z,[["__scopeId","data-v-ac13ba2a"]]);const G={__name:"Dashboard",props:{dashboardItems:{type:Array,default:()=>{}}},setup(e){return(i,m)=>{const d=F;return t(!0),a(S,null,Y(e.dashboardItems,(n,h)=>(t(),k(d,{key:h,item:n},null,8,["item"]))),128)}}},H=f(G,[["__scopeId","data-v-1e8f9e08"]]);const q={key:0,class:"transition"},M=s("nav",null,[s("h2",null," Dashboard ")],-1),P={key:0,class:"bgCard"},W={key:1},J=s("p",null,"No default academic year. ",-1),K={key:0},Q={key:1,class:"spinner-border text-primary",role:"status"},R=s("span",{class:"visually-hidden"},"Loading...",-1),X=[R],Z={__name:"EvaluationLanding",setup(e){const{getCurrentUser:i}=w(),m=L(),d=B(()=>`Hello ${i().name}. Welcome to Philcst Evaluation System.`),n=E({currentUser:null,loaded:!1,academicYear:null});I(async()=>{await h(),n.loaded=!0});async function h(){const l=i(),o=await m({url:"evaluation/fetch-active-year",method:"GET",headers:{"Content-Type":"application/json"}});n.academicYear=o.data.record,n.currentUser=l,o.data.record&&D()}const v=[];function D(){const l=i(),o=n.academicYear,b={text:"Academic Year:",acadYear:o.year,semester:`${o.semester} Semester Evaluation`,evalStatus:`Status: ${o.status.toUpperCase()}`,cardColor:"blue-box",image:{src:"/images/acad-year.svg",width:"240px"}},y={text:"Evaluate",cardColor:"yellow-box",image:{src:"/images/evaluate.svg",width:"240px"},btn:{label:"Click here",show:o.status==="open",link:`${l.role.role}/evaluate-page/`,evalStatus:o.status}};v.push(b),v.push(y)}return(l,o)=>{var p;const b=H,y=$;return t(),a("div",null,[u(n).loaded?(t(),a("div",q,[M,s("div",null,[s("div",null,[s("h5",null,c(u(d)),1)]),u(n).academicYear?(t(),a("div",P,[g(b,{dashboardItems:v})])):(t(),a("div",W,[J,((p=u(n).currentUser)==null?void 0:p.role.role)==="admin"?(t(),a("p",K,[_("Click "),g(y,{to:"/admin/academic-year"},{default:C(()=>[_("here")]),_:1}),_(" to set default academic year or create one if you don't have any. ")])):r("",!0)]))])])):(t(),a("div",Q,X))])}}},ae=Z;export{ae as _};
